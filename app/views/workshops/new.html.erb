<!-- NEW WORKSHOP FORM -->

<div class="dashboard-title-container" id="dashboard-organizer-title-container">
  <h1>
    <span>Créez votre atelier !</span>
  </h1>
</div>

<div class="back-button" id="back-button-ws-new">
  <%= link_to 'javascript:history.go(-1);' do %>
    <i class="fas fa-chevron-left"></i>
    <span>Annuler</span>
  <% end %>
</div>

<div class="new-ws-container">
  <div class="accordion" id="accordionNewWs">
    <%= simple_form_for(@workshop) do |f| %>

      <!-- INTRODUCTION -->

      <div class="card">
        <div class="card-header" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true">
          <span class="title">Avant de commencer</span>
          <span class="accicon"><i class="fas fa-angle-down rotate-icon"></i></span>
        </div>
        <div id="collapseOne" class="collapse show" data-parent="#accordionNewWs">
          <div class="card-body">
            <strong>Vous vous apprêtez à créer ici une fiche atelier !</strong> <br>
            Vous n'avez qu'une partie des informations ? Pas d'inquiétude, remplissez les champs dont vous avez connaissance et sauvegardez votre fiche pour la compléter plus tard &#128293; <br>
            Un atelier est mis en ligne dès lors que tous les champs sont complétés et que des dates d'atelier sont proposées. <br>
            Vous pouvez trouver vos ateliers “en ligne” et “hors ligne” dans votre rubrique "mon tableau de bord" !
            Bonne saisie &#128521;
            <div class="next-previous">
              <a class="next-previous-button btnNext" >Suivant</a>
            </div>
          </div>
        </div>
      </div>

      <!-- TITLE / PLACE / ANIMATOR -->

      <div class="card">
        <div class="card-header collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          <span class="title">Intitulé, lieu & animateur</span>
          <span class="accicon"><i class="fas fa-angle-down rotate-icon"></i></span>
        </div>
        <div id="collapseTwo" class="collapse" data-parent="#accordionNewWs">
          <div class="card-body">
            <strong>C'est parti !</strong><br>
            Renseignez pour commencer l'intitulé de votre atelier, celui-ci doit être représentatif et percutant afin de ressortir dans les recherches utilisateurs.<br>
            Ensuite, sélectionnez parmi vos lieux celui où ce déroulera l'atelier. <br>
            Enfin, si l'animateur de l'atelier ne fait pas partie de vos équipes, sélectionnez l'animateur parmi tous ceux enregistrés sur la plateforme jeu de mains &#128521;
            <br><br>

            <%= f.input :title, label: false, placeholder: "Intitulé de l'atelier"  %>

            <div class="form-group select required workshop_place_id">
              <select class="form-control select required" name="workshop[place_id]" id="workshop_place_id">
                <option value="">Choisissez un de vos lieux</option>
              <% @places.sort_by { |place| place.name }.each do |place| %>
                <option value="<%= place.id %>"><%= place.name %></option>
              <% end %>
              </select>
            </div>

            <div class="form-group select optional workshop_animator">
              <label class="select optional" for="workshop_animator">L'atelier est animé par un animateur extérieur au lieu ? Si oui :</label>
              <select class="form-control select optional" name="workshop[animator]" id="workshop_animator">
                <option value="">Sélectionnez un animateur</option>
                <% @animators.sort_by { |animator| animator.company }.each do |animator| %>
                  <option value="<%= animator.id %>"><%= animator.company %></option>
                <% end %>
              </select>
            </div>

            <div class="next-previous">
              <a class="next-previous-button btnPrevious" >Retour</a>
              <a class="next-previous-button btnNext" >Suivant</a>
            </div>
        </div>
        </div>
      </div>

      <!-- FILTERS -->

      <div class="card">
        <div class="card-header collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          <span class="title">Filtres</span>
          <span class="accicon"><i class="fas fa-angle-down rotate-icon"></i></span>
        </div>
        <div id="collapseThree" class="collapse" data-parent="#accordionNewWs">
          <div class="card-body">
            <strong>On continue avec les filtres !</strong><br>
            Reseignez la thématique de l'atelier, le niveau requis pour participer à l'atelier, le nombre de places disponibles à la réservation, la durée et enfin le prix. <br>
            N'hésitez pas à justifier le niveau requis dans la partie "Programme" (étape suivante) &#128521; <br>
            <strong>Important :</strong> le prix fixé se doit d'être identique à celui affiché sur vos autres supports (boutique, site, autres plateformes).
            <br><br>

            <%= f.input :thematic, label: false, prompt: "Type d'atelier", collection: Workshop::THEMATICS %>
            <%= f.input :level, label: false, prompt: "Niveau requis pour participer", collection: Workshop::LEVELS %>
            <%= f.input :capacity, label: false, placeholder: "Nombre de places proposées" %>
            <%= f.input :duration, label: false, placeholder: "Durée de l'atelier en minutes" %>
            <%= f.input :price, label: "Prix par personne" %>

            <div class="next-previous">
              <a class="next-previous-button btnPrevious" >Retour</a>
              <a class="next-previous-button btnNext" >Suivant</a>
            </div>
          </div>
        </div>
      </div>

      <!-- PROGRAM -->

      <div class="card">
        <div class="card-header collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
          <span class="title">Programme</span>
          <span class="accicon"><i class="fas fa-angle-down rotate-icon"></i></span>
        </div>
        <div id="collapseFour" class="collapse" data-parent="#accordionNewWs">
          <div class="card-body">
            <strong>C'est le moment de sortir votre plume &#128521;</strong><br>
            Raconter ici tout ce que les utilisateurs doivent savoir sur votre atelier : l'univers de l'animateur et du lieu, le déroulé, avec quel objet ils repartent... Plus vous en dites, plus les utilisateurs seront rassurés et convaincus !
            <br><br>
            <%= f.input :program, label: "Programme", :input_html => {:rows => 4}, placeholder: "Parlez ici avec le plus de détails possibles du déroulé, de l'ambiance, de l'univers de l'animateur, des éventuelles collations incluses... " %>
            <%= f.input :final_product, label: "Repartez avec", :input_html => {:rows => 2}, placeholder: "Parlez ici de l'objet et tout autre matériel créatif avec lequel le client repart ;)" %>

            <div class="next-previous">
              <a class="next-previous-button btnPrevious" >Retour</a>
              <a class="next-previous-button btnNext" >Suivant</a>
            </div>
          </div>
        </div>
      </div>

      <!-- PHOTOS -->

      <div class="card">
        <div class="card-header collapsed" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
          <span class="title">Photos de l'atelier</span>
          <span class="accicon"><i class="fas fa-angle-down rotate-icon"></i></span>
        </div>
        <div id="collapseFive" class="collapse" data-parent="#accordionNewWs">
          <div class="card-body">
            <strong>Promis c'est la dernière étape !</strong><br>
            Chargez ici vos photos de l'atelier. Convaincre les utilisateurs passe en grande partie par le visuel. <br>
            Prenez des clichés jolis, épurés du lieu, de l'objet à créer, du matériel utilisé afin que les utilisateurs puissent se projeter &#128521; <br>
            <br><br>

            <%= f.input :photos, as: :file, label: "minimum 1 photo / maximum 6 photos",input_html: { multiple: true } %>

            <div class="next-previous">
              <a class="next-previous-button btnPrevious" >Retour</a>
              <a class="next-previous-button btnNext" >Suivant</a>
            </div>
          </div>
        </div>
      </div>

      <!-- SUBMIT -->

      <div class="card">
        <div class="card-header collapsed" data-toggle="collapse" data-target="#collapseSix" aria-expanded="false">
          <span class="title">Validation</span>
          <span class="accicon"><i class="fas fa-angle-down rotate-icon"></i></span>
        </div>
        <div id="collapseSix" class="collapse" data-parent="#accordionNewWs">
          <div class="card-body">
            <strong>Il est temps de valider</strong><br>
            Une fois le bouton "valider" cliqué vous serez redirigé vers une page de confirmation. <br>
            Votre atelier ne sera pas immédiatement mis en ligne, vous devrez encore renseigner les dates d'atelier ainsi que les éventuels champs non complétés.
            <br><br>
            <div class="d-flex justify-content-center">
              <%= f.submit 'Valider', id: "new-ws-submit" %>
            </div>
            <div class="next-previous">
              <a class="next-previous-button btnPrevious" >Retour</a>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

