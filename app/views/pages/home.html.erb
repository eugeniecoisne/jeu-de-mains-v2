<div class="homebanner", id="homebanner-desktop">
  <div class="homebanner-title">
    <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1593180301/logo-jdm-dark-blue.svg", :width => 350, :crop => :fill, :alt => "logo jeu de mains") %>
    <div class="homebanner-title-text">
      <h1>Offrez-vous un moment de détente créatif</h1>
      <h2>Grâce à la nouvelle plateforme de réservation d'ateliers créatifs jeudemains.com</h2>
    </div>
  </div>

  <div class="home-search-container">
    <div class="home-search">
      <%= simple_form_for :search, url: workshops_path, method: :get do |f| %>
        <div class="home-search-inputs-and-submit">
          <%= f.input :keyword, required: false, label: "Type d'atelier", prompt: "Tous types", collection: Workshop::THEMATICS %>
          <%= f.input :place, required: false, label: "Ville", prompt: "Toutes les villes", collection: Place.cities.sort %>
          <%= f.input :starts_at, as: :string, required: false, input_html: {class: "datepicker datepicker_start_date"}, placeholder: "À tout moment", label: "À partir du" %>
          <%= f.input :ends_at, as: :string, required: false, input_html: {class: "datepicker"}, placeholder: "À tout moment", label: "Jusqu'au" %>
          <button type="submit" class="search-button">
            <i class="fas fa-search"></i>
          </button>
        </div>
      <% end %>
    </div>
  </div>
</div>

<div class="home-container">

  <!-- JEU DE MAINS PRESENTATION -->

  <h2 class="home-steps-title">Réservez et profitez de votre atelier créatif en toute simplicité</h2>

  <div class="home-steps-presentation-desktop">
    <div class="home-step-presentation">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1594146645/clock.svg", :width => 200, :crop => :fill, :alt => "réservation-en-ligne") %>
      <h3>Réservation et paiement<br> 100% en ligne</h3>
      <p>Réservez et payez en toute sécurité en ligne l'atelier de votre choix, 24h/24, 7j/7</p>
    </div>
    <div class="home-step-presentation">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1594146572/store.svg", :width => 200, :crop => :fill, :alt => "ateliers") %>
      <h3>Ateliers éphémères<br> et permanents</h3>
      <p>Retrouvez un large choix d'ateliers créatifs en concept store, lors d'événements, chez l'artisan...</p>
    </div>
    <div class="home-step-presentation">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1594151878/directory.svg", :width => 200, :crop => :fill, :alt => "annuaire") %>
      <h3>Accès illimité à l'annuaire des lieux et animateurs</h3>
      <p>Profitez d'un accès à la liste des partenaires lieux et animateurs et leurs pages dédiées</p>
    </div>
  </div>

  <div class="home-steps-presentation-tablet">
    <%= render "home-step-carousel-tablet" %>
  </div>

  <div class="home-steps-presentation-mobile">
    <%= render "home-step-carousel-mobile" %>
  </div>

  <!-- TRENDS SELECTION -->

  <div class="home-selection-cards">
    <div class="home-selection-card" id="home-selection-first">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1593179636/selection-summer.jpg", :width => 250, :crop => :fill, :alt => "sélection été") %>
      <div class="home-selection-text">
        <div>
          <h2>Ça sent bon l’été</h2>
          <h3>Ateliers couture de maillot de bain, customisation de lunettes de soleil, broderie de pochette de plage… Découvrez notre sélection <em>Ça sent bon l’été</em></h3>
        </div>
        <div>
          <a href="#" class="home-selection-btn">Voir la sélection</a>
        </div>
      </div>
    </div>

    <div class="home-selection-card" id="home-selection-second">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1593179634/selection-masque.jpg", :width => 250, :crop => :fill, :alt => "sélection masques") %>
      <div class="home-selection-text">
        <div>
          <h2>Bal masqué</h2>
          <h3>Le masque est devenu un indispensable dans nos vies alors que diriez-vous de coudre votre propre masque ? Découvrez notre sélection d’ateliers couture de masques en tissu</h3>
        </div>
        <div>
          <a href="#" class="home-selection-btn">Voir la sélection</a>
        </div>
      </div>
    </div>

    <!-- THEMATICS SELECTION -->

    <div class="home-selection-card" id="home-thematic-first">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1595541463/vegetal_mimgof.png", :width => 250, :crop => :fill, :alt => "sélection végétale") %>
      <div class="home-selection-text">
        <div>
          <h2>La belle nature</h2>
          <h3>Ateliers herbier, couronne de fleurs, cloche florale, bouquet, terrarium … Découvrez nos ateliers d’art végétal</h3>
        </div>
        <div>
          <a href="#" class="home-selection-btn">Voir la sélection</a>
        </div>
      </div>
    </div>

    <div class="home-selection-card" id="home-thematic-second">
      <%= cl_image_tag("https://res.cloudinary.com/eugeniedenis/image/upload/v1595540794/cosmetique_mdis6k.png", :width => 250, :crop => :fill, :alt => "sélection cosmétique") %>
      <div class="home-selection-text">
        <div>
          <h2>Je prends soin de moi</h2>
          <h3>Vous avez envie de respecter votre peau, vos vêtements, votre maison, avec des produits 100% naturels ? Pourquoi pas les formuler vous-mêmes ! Découvrez nos ateliers cosmétiques et entretien maison</h3>
        </div>
        <div>
          <a href="#" class="home-selection-btn">Voir la sélection</a>
        </div>
      </div>
    </div>
  </div>

  <!-- WORKSHOP CARDS -->

  <div class="home-ws-cards-container">

    <div>
      <h2 class="home-ws-cards-title">Les ateliers favoris</h2>
      <h3 class="home-ws-cards-subtitle">Découvrez ici nos ateliers les mieux notés par la communauté Jeu de Mains</h3>

      <div class="home-ws-cards home-ws-cards-best-ratings">
        <% @workshops.first(6).each do |workshop| %>
          <div class="ws-card" id="home-ws-card">
            <%= link_to(workshop, data: { turbolinks: false }) do  %>
              <div class="ws-card-image-and-rating" id="home-ws-card-image-and-rating">
                <div class="ws-card-tags" id="home-ws-card-tags">
                  <% if workshop.rating %>
                    <div class="ws-card-tag ws-card-rating" id="home-ws-card-rating">
                      <i class="fas fa-star"></i><span><%= workshop.rating %></span>
                    </div>
                  <% end %>
                  <% if workshop.place.ephemeral == true %>
                    <div class="ws-card-tag ws-card-ephemeral" id="home-ws-card-ephemeral">
                      <span>éphémère</span>
                    </div>
                  <% end %>
                </div>
                <%= render "workshops/ws-index-carousel", workshop: workshop %>
              </div>
            <% end %>
            <%= link_to(workshop, data: { turbolinks: false }) do  %>
              <div class="ws-card-infos" id="home-ws-card-infos">
                <div>
                  <div class="ws-card-place" id="home-ws-card-place-desktop">
                    <% if workshop.place.name.size > 25 %>
                      <h3><%= workshop.place.name[0..24] %>...</h3>
                    <% else %>
                      <h3><%= workshop.place.name %></h3>
                    <% end %>
                  </div>
                  <div class="ws-card-place" id="home-ws-card-place-mobile">
                    <% if workshop.place.name.size > 17 %>
                      <h3><%= workshop.place.name[0..16] %>...</h3>
                    <% else %>
                      <h3><%= workshop.place.name %></h3>
                    <% end %>
                  </div>
                  <div class="ws-card-title" id="home-ws-card-title">
                    <h2><%= workshop.title %></h2>
                  </div>
                </div>
                <div class="ws-card-price-and-city" id="home-ws-card-price-and-city">
                  <div class="ws-card-price" id="home-ws-card-price">
                    <%= workshop.price %> €
                  </div>
                  <div class="ws-card-city" id="home-ws-card-city">
                    <i class="fas fa-map-marker-alt"></i>
                    <% if workshop.place.city.size >= 11 %>
                      <span id="city-name"><%= workshop.place.city[0..11].capitalize %>...</span>
                    <% else %>
                      <span id="city-name"><%= workshop.place.city.capitalize %></span>
                    <% end %>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>

    <div>
      <h2 class="home-ws-cards-title">C’est maintenant ou jamais !</h2>
      <h3 class="home-ws-cards-subtitle">Réservez les dernières places disponibles des prochaines dates</h3>

      <div class="home-ws-cards home-ws-cards-last-minute">
        <% @workshops.first(6).each do |workshop| %>
          <% if workshop.sessions.present? %>
            <div class="ws-card" id="home-ws-card">
              <%= link_to(workshop, data: { turbolinks: false }) do  %>
                <div class="ws-card-image-and-rating" id="home-ws-card-image-and-rating">
                  <div class="ws-card-tags" id="home-ws-card-tags-last-minute">
                    <div class="ws-card-tag ws-card-last-minute-tickets" id="home-ws-card-tickets">
                      <span><%= workshop.sessions.order(:date).first.available %> places restantes</span>
                    </div>
                    <div class="ws-card-tag ws-card-last-minute-date" id="home-ws-card-date">
                      <span><%= workshop.sessions.order(:date).first.date.strftime('%d/%m/%Y') %></span>
                    </div>
                  </div>
                  <%= render "workshops/ws-index-carousel", workshop: workshop %>
                </div>
              <% end %>
              <%= link_to(workshop, data: { turbolinks: false }) do  %>
                <div class="ws-card-infos" id="home-ws-card-infos">
                  <div>
                    <div class="ws-card-place" id="home-ws-card-place-desktop">
                      <% if workshop.place.name.size > 25 %>
                        <h3><%= workshop.place.name[0..24] %>...</h3>
                      <% else %>
                        <h3><%= workshop.place.name %></h3>
                      <% end %>
                    </div>
                    <div class="ws-card-place" id="home-ws-card-place-mobile">
                      <% if workshop.place.name.size > 17 %>
                        <h3><%= workshop.place.name[0..16] %>...</h3>
                      <% else %>
                        <h3><%= workshop.place.name %></h3>
                      <% end %>
                    </div>
                    <div class="ws-card-title" id="home-ws-card-title">
                      <h2><%= workshop.title %></h2>
                    </div>
                  </div>
                  <div class="ws-card-price-and-city" id="home-ws-card-price-and-city">
                    <div class="ws-card-price" id="home-ws-card-price">
                      <%= workshop.price %> €
                    </div>
                    <div class="ws-card-city" id="home-ws-card-city">
                      <i class="fas fa-map-marker-alt"></i>
                      <% if workshop.place.city.size >= 11 %>
                        <span id="city-name"><%= workshop.place.city[0..11].capitalize %>...</span>
                      <% else %>
                        <span id="city-name"><%= workshop.place.city.capitalize %></span>
                      <% end %>
                    </div>
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
